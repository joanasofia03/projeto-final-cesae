<p>client works!</p>
<h1>Client Dashboard</h1>

<div *ngIf="balances.length > 0; else noAccounts">
  <h2>Your Accounts</h2>
  <div *ngFor="let acc of balances" class="account-card">
    <p><strong>Account ID:</strong> {{ acc.accountId }}</p>
    <p><strong>Type:</strong> {{ acc.accountType }}</p>
    <p><strong>Currency:</strong> {{ acc.currency }}</p>
    <p><strong>Balance:</strong> {{ acc.balance }}</p>
  </div>
</div>

<ng-template #noAccounts>
  <p>No accounts found.</p>
</ng-template>

<hr />

<div *ngIf="transactions.length > 0; else noTransactions">
  <h2>Your Transactions</h2>

  <div *ngFor="let tx of transactions" class="transaction-card">
    <p><strong>Source Account:</strong> {{ tx.sourceAccountName }}</p>
    <p><strong>Destination Account:</strong> {{ tx.destinationAccountName }}</p>
    <p><strong>Date:</strong> {{ tx.transactionDate | date:'shortDate' }}</p>
    <p><strong>Type:</strong> {{ tx.transactionTypeName }}</p>
    <p><strong>Amount:</strong> {{ tx.transaction_Amount | currency }}</p>
    <p><strong>Balance After Transaction:</strong> {{ tx.balance_After_Transaction | currency }}</p>
    <p><strong>Execution Channel:</strong> {{ tx.execution_Channel }}</p>
    <p><strong>Status:</strong> {{ tx.transaction_Status }}</p>
  </div>
</div>

<ng-template #noTransactions>
  <p>No transactions found.</p>
</ng-template>

<!-- === NOTIFICATIONS SECTION === -->
<div *ngIf="notifications.length > 0; else noNotifications">
  <h2>Your Notifications</h2>

  <div *ngFor="let note of notifications" class="notification-card">
    <div class="notification-row">
      <p><strong>User:</strong> {{ note.userName }}</p>
      <p><strong>Type:</strong> {{ note.notificationType }}</p>
    </div>

    <div class="notification-row">
      <p><strong>Channel:</strong> {{ note.channel }}</p>
      <p><strong>Status:</strong> {{ note.status }}</p>
    </div>

    <div class="notification-row">
      <p><strong>Date:</strong> {{ note.notificationDate | date: 'shortDate' }}</p>
    </div>
  </div>
</div>

<ng-template #noNotifications>
  <p>No notifications found.</p>
</ng-template>

<h2>Make a Deposit</h2>

<form (ngSubmit)="makeDeposit()" #depositForm="ngForm">
  <label for="account">Select Account:</label>
  <select [(ngModel)]="deposit.accountId" name="account" required>
    <option *ngFor="let acc of balances" [value]="acc.accountId">{{ acc.accountId }} - {{ acc.accountType }}</option>
  </select>

  <label for="amount">Amount:</label>
  <input type="number" [(ngModel)]="deposit.amount" name="amount" required min="0.01" step="0.01" />

  <button type="submit" [disabled]="!depositForm.form.valid">Deposit</button>
</form>
